# ============================================================================
# ROS-simple-follower PID 제어기 파라미터 설정
# ============================================================================
#
# 이 파일은 물체 추종을 위한 PID 제어기의 이득값들을 정의합니다.
# 각 파라미터는 [각도 제어, 거리 제어] 순서로 배열되어 있습니다.
#
# PID 제어 원리:
# - P(비례): 현재 오차에 비례한 제어 → 빠른 응답
# - I(적분): 누적 오차에 비례한 제어 → 정상상태 오차 제거  
# - D(미분): 오차 변화율에 비례한 제어 → 오버슈트 방지
#
# 제어 목표:
# - 각도: 물체를 항상 로봇 정면(0도)에 유지
# - 거리: 물체와 일정한 거리(targetDist=0.5m) 유지
#
# ============================================================================

# P (비례 이득): 현재 오차에 대한 즉각적인 반응
#
# P[0] = 0.7 : 각도 제어 비례 이득
#   - 물체가 로봇 옆에 있을 때 회전하는 강도
#   - 높을수록: 빠른 회전, 진동 가능성 증가
#   - 낮을수록: 느린 회전, 물체 놓칠 가능성 증가
#   - 권장 범위: 0.3 ~ 1.0
#
# P[1] = 0.6 : 거리 제어 비례 이득  
#   - 물체와의 거리 오차에 따른 전진/후진 강도
#   - 높을수록: 빠른 접근/후퇴, 급작스러운 움직임
#   - 낮을수록: 부드러운 움직임, 느린 거리 조정
#   - 권장 범위: 0.4 ~ 0.8
P: [0.7, 0.6]

# I (적분 이득): 누적된 오차에 대한 보상
#
# I[0] = 0.07 : 각도 제어 적분 이득
#   - 지속적인 각도 오차를 줄이는 역할
#   - 높을수록: 강한 적분 작용, 과도한 보상 가능
#   - 낮을수록: 약한 적분 작용, 정상상태 오차 발생 가능
#   - 권장 범위: 0.01 ~ 0.1
#
# I[1] = 0.04 : 거리 제어 적분 이득
#   - 지속적인 거리 오차를 줄이는 역할  
#   - 높을수록: 목표 거리에 정확히 도달하지만 진동 가능
#   - 낮을수록: 부드러운 제어하지만 일정한 오차 존재 가능
#   - 권장 범위: 0.01 ~ 0.08
I: [0.07, 0.04]

# D (미분 이득): 오차 변화율에 대한 예측 제어
#
# D[0] = 0.00 : 각도 제어 미분 이득 (현재 사용 안 함)
#   - 각도 변화 속도에 따른 제동 효과
#   - 0으로 설정된 이유: 라이다 데이터의 노이즈로 인한 불안정성
#   - 필요시 0.01 ~ 0.05 범위에서 실험 가능
#
# D[1] = 0.000 : 거리 제어 미분 이득 (현재 사용 안 함) 
#   - 거리 변화 속도에 따른 제동 효과
#   - 0으로 설정된 이유: 부드러운 거리 제어를 위해
#   - 오버슈트가 문제될 경우 0.01 ~ 0.03 범위에서 실험 가능
D: [0.00, 0.000]

# ============================================================================
# 파라미터 튜닝 가이드
# ============================================================================
#
# 문제 상황별 튜닝 방법:
#
# 1. 로봇이 물체를 잘 못 따라가는 경우:
#    - P 값들을 증가 (예: [0.8, 0.7])
#    - 단, 너무 높으면 진동 발생
#
# 2. 로봇이 지나치게 민감하게 반응하는 경우:
#    - P 값들을 감소 (예: [0.5, 0.4])
#    - D 값을 약간 증가 (예: [0.02, 0.01])
#
# 3. 목표 거리/각도에 정확히 도달하지 못하는 경우:
#    - I 값들을 증가 (예: [0.1, 0.06])
#    - 단, 너무 높으면 진동 발생
#
# 4. 로봇 움직임이 너무 급작스러운 경우:
#    - P 값들을 감소하고 D 값을 증가
#    - maxSpeed도 함께 조정 고려
#
# 5. 환경별 권장 설정:
#    - 실내(좁은 공간): P 낮게, I 적당히, D 약간
#    - 실외(넓은 공간): P 높게, I 낮게, D 거의 0
#    - 빠른 물체: P 높게, D 증가
#    - 느린 물체: P 적당히, I 증가
#
# 튜닝 순서:
# 1. D=0으로 설정하고 P만 조정
# 2. P가 적절하면 I를 천천히 증가
# 3. 필요시 D를 소량 추가
#
# ============================================================================